<!DOCTYPE html>
<html id="fen" lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css?family=Roboto&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Contrail+One&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Kalam&display=swap"
      rel="stylesheet"
    />
    <!-- <script type = "text/javascript" src = "JS/frenchdate.js"></script> -->
    <title>bilan ERGO</title>
    <style>
      * {
        padding: 0;
        margin: 0;
        box-sizing: border-box;
      }

      a {
        text-decoration: none;
        color: rgb(26, 22, 22);
      }

      body {
        font-family: "Roboto", sans-serif;
        color: #444;
        cursor: black;
      }

      li:hover {
        cursor: pointer;
        background-color: rgb(236, 235, 147);
      }

      p {
        font-family: "Times New Roman", Times;
      }

      h1 {
        font-family: "Times New Roman", Times;
        background-color: #80ced6;
      }

      span {
        margin-left: 30px;
      }

      label {
        text-transform: uppercase;
        font-weight: bold;
        margin: 0 15px 0 0;
        margin-left: 10%;
        text-align: center;
      }

      option:hover {
        background: rgb(156, 214, 195);
        color: black;
      }

      #temps {
        color: rgb(238, 104, 26);
      }

      textarea,
      input,
      select {
        font-family: "Contrail One";
        width: 80%;
        margin-left: 10%;
        padding: 5px;
        font-size: 1.2em;
        text-align: left;
        border-radius: 10px;

        /*background-color: #bbb;*/
      }

      fieldset {
        font-family: "Kalam", cursive;
        font-size: 1.2em;
        position: relative;
        padding: 15px 0;
        border: 0;
      }

      legend {
        text-decoration: underline;
      }

      body {
        border-color: rgb(236, 206, 150);
        background-color: rgb(187, 235, 178);
        /* border-color: #dbe4bc;
        background-color: #d5dbc8; */
        /* background-color: #a9f775; */

        /* background-color :rgb(236, 206, 150); */
      }

      nav {
        font-family: "Contrail One", cursive;
        background-color: rgb(187, 235, 178);
        padding: 10px 0px;
        text-align: center;
        position: absolute;
        width: 100%;
        position: fixed;
        z-index: 1;
      }

      nav li {
        list-style-type: none;
        display: inline-block;
        padding: 10px 10px;
        height: 10%;
        text-align: center;
        /* border-left: 1px solid white; */
        color: rgb(26, 22, 22);
        font-size: 1.1em;
      }

      nav a {
        color: dark-grey;
      }

      .head {
        width: 100%;
      }

      .majuscule {
        text-transform: capitalize;
      }

      .dolor {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        /* background-color: #02eeff; */
        background-color: #rgb(236, 206, 150);
        /* background-color: #10d419; */
      }

      .donnees {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        background-color: #39e9e0;
        /* background-color: 02eeff#; */

        /* background-color: #c7dd9f; */
      }

      .fonctionnel {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        background-color: rgb(187, 235, 178);
        /* background-color: rgb(236, 206, 150); */
        font-size: 1.5em;
        /* background-color: #a9f775; */
        /* background-color: #cdd82f; */
        /* background-color: #c7dd9f; */
      }

      .trophique {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        background-color: #2847ac;
        /* background-color: #a9f775; */
        /* background-color: #f19f40; */
        /* background-color: #c7dd9f; */
      }

      .articulaire {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        background-color: #c7dd9f;
        /* background-color: #93d5da; */
        /* background-color: #c7dd9f; */
        /* background-color: #a9f775; */
      }

      .musculaire {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        background-color: #c7dd9f;
        /* background-color: #f1d063; */
        /* background-color: #c7dd9f; */
        /* background-color: #a9f775; */
      }

      .titi {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        background-color: rgb(236, 206, 150);
        /* background-color: #f0e54b; */

        /* background-color: #c7dd9f; */
        /* background-color: #a9f775; */
      }

      .respicogito {
        padding: 10px;
        border-radius: 5px 5px 0 0;
        /* background-color: #a9f775; */
        background-color: #c9dd9f;
      }

      .pe {
        font-size: 1.5em;
        color: coral;
        font-weight: bold;
      }
    </style>
  </head>

  <body>
    <div id="top"></div>

    <nav class="nav">
      <ul>
        <li id="temps"></li>
        <li id="copier" onclick="affichage()">Copier</li>
        <!-- on affiche les numeros internes -->
        <li><a href="http://55.245.70.92/" target="_blank">Libertempo</a></li>
        <li><a href="https://www.google.fr" target="_blank">Google</a></li>
        <li><a href="#top">Haut de la page</a></li>
        <li id="reinitialise">Réinitialiser</li>
      </ul>
    </nav>
    ⬜ <br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br /><br />

    <div>
      <fieldset>
        <br /><br />
        <legend align="center">
          <span class="donnees"><strong>SUIVI ERGO</strong></span>
        </legend>

        <fieldset>
          <legend class="dolor" align="center">
            Cotation de la douleur EVS
          </legend>

          <label class="titi" for="auRepos">Au Repos</label><br /><select
            id="douleurRepos"
            name="douleurRepos"
          >
            <option value="0" selected="selected">pas de douleur</option>
            <option value="1">faible</option>
            <option value="2">moyenne</option>
            <option value="3">forte</option>
            <option value="4">très forte</option>
          </select>
          <br /><br /><label class="titi" for="aLaMobilisation"
            >A la mobilisation</label
          ><select id="douleurMob" name="douleurMob">
            <option value="0" selected="selected">pas de douleur</option>
            <option value="1">faible</option>
            <option value="2">moyenne</option>
            <option value="3">forte</option>
            <option value="4">très forte</option> </select
          ><br /><br /><label class="titi" for="caracteristique"
            >Caractéristiques:</label
          ><select multiple id="typeDouleur" name="typeDouleur">
            <option value=""></option>
            <option value="mécanique">Mécanique</option>
            <option value="inflammatoire">inflammatoire</option>
            <option value="élancements">Elancements</option>
            <option value="pénétrante">Pénétrante</option>
            <option value="décharges électriques">Décharges électriques</option>
            <option value="coups de poignard">Coups de poignard</option>
            <option value="en étau">En étau</option>
            <option value="tiraillement">Tiraillement</option>
            <option value="brûlure">Brûlure</option>
            <option value="fourmillements">Fourmillements</option>
            <option value="lourdeur">Lourdeur</option>
            <option value="épuisante">Epuisante</option>
            <option value="angoissante">Angoissante</option>
            <option value="obsédante">Obsédante</option> </select
          ><br /><br />
          <label class="titi" for="typeRepos">autre type</label
          ><input id="typeRepos" name="typeRepos" type="text" /><br /><br />
          <label class="titi" for="localisation">localisation </label
          ><input id="localisation" name="localisation" type="text" /><br />
        </fieldset>
        <br />
        <hr />
        <br /><br />

        <label class="titi">SITUATION</label>
        <textarea id="situation" name="situation" rows="2" cols="80"></textarea>
        <select
          open
          id="phrsituation"
          onchange="replaceSelection('situation',this.id)"
          ;
          onfocus="this.selectedIndex= 0;"
        >
          <option value="">phrases</option>
          <option
            value="Marié
    "
            >Marié</option
          >
          <option value="Vit seul">Vit seul</option>
        </select>
        <br /><br /><br />

        <label class="titi">Aides à domicile</label>

        <textarea id="aidesAdom" name="aidesAdom" rows="2" cols="80"></textarea>
        <select
          open
          id="phraidesAdom"
          onchange="replaceSelection('aidesAdom',this.id)"
          ;
          onfocus="this.selectedIndex= 0;"
        >
          <option value="">phrases</option>
          <option value="Aide ménagère">Aide ménagère</option>
          <option value="IDE">IDE</option>
          <option value="Aide des enfants">Aide des enfants</option>
        </select>
      </fieldset>
      <br /><br />

      <fieldset>
        <label class="titi"><strong>Accés extérieur logement</strong></label>
        <textarea
          id="accesExtLogement"
          name="accesExtLogement"
          rows="4"
          cols="80"
        ></textarea>
        <select
          id="phraccesExtLogement"
          onchange="replaceSelection('accesExtLogement',this.id)"
        >
          <option value="">phrases</option>
          <option value="Quelques marches avec rampe d'appui"
            >Quelques marches avec rampe d'appui</option
          >
          <option value="Quelques marches sans rampe d'appui"
            >Quelques marches sans rampe d'appui</option
          >
          <option value="Plain pied">Plain pied</option>
        </select>
      </fieldset>
      <br /><br /><br />

      <fieldset>
        <label class="titi"><stong>Accés intérieur logement</stong></label>
        <textarea
          id="accesIntlogement"
          name="accesIntlogement"
          rows="4"
          cols="80"
        ></textarea>
        <select
          id="phraccesIntlogement"
          onchange="replaceSelection('accesIntlogement',this.id)"
        >
          <option value="">phrases</option>
          <option value="Plain pied">Plain pied</option>
          <option value="Chambre à l'étage">Chambre à l'étage</option>
          <option value="Salle de bain à l'étage"
            >Salle de bain à l'étage</option
          >
          <option value="Chambre installée au RDC pour être de plain pied"
            >Chambre installée au RDC pour être de plain pied
          </option>
        </select>

        <br /><br /><br />

        <label class="titi">
          Déambulation intérieur
        </label>
        <textarea
          id="deambulationInt"
          name="deambulationInt"
          rows="4"
          cols="80"
        ></textarea>
        <select
          id="phrdeambulationInt"
          onchange="replaceSelection('deambulationInt',this.id)"
        >
          <option value="">phrases</option>
          <option
            value="Avant l'hospitalisation, était autonome sans aide à la marche"
            >Avant l'hospitalisation, était autonome sans aide à la
            marche</option
          >
          <option value="Avant l'hospitalisation, marchait avec un déambulateur"
            >Avant l'hospitalisation, marchait avec un déambulateur</option
          >
          <option value="Avant l'hospitalisation, marchait avec une canne"
            >Avant l'hospitalisation, marchait avec une canne</option
          >
          <option value="Actuellement marche avec un déambulateur"
            >Actuellement marche avec un déambulateur</option
          >
        </select>
        <br /><br /><br />
      </fieldset>

      <fieldset>
        <label class="titi">
          Déambulation extérieur avant l'hospitalisation
        </label>

        <textarea id="deambulationExt" rows="4" cols="80"></textarea>
        <select
          id="phrdeambulationExt"
          onchange="replaceSelection('deambulationExt',this.id)"
        >
          <option value="">phrases</option>
          <option value="Etait autonome">Etait autonome</option>
          <option value="Avec déambulateur">Avec déambulateur</option>
          <option value="Ne sortait plus">Ne sortait plus</option>
          <option value="Sortait accompagné de ses enfants en voiture"
            >Sortait accompagné de ses enfants en voiture</option
          >
        </select>

        <br /><br /><br />
        <label class="titi">
          Chambre
        </label>

        <textarea id="chambre" rows="4" cols="80"></textarea>
        <select id="phchambre" onchange="replaceSelection('chambre',this.id)">
          <option value="">phrases</option>
          <option
            value="A déjà un lit médicalisé à domicile équipé de barrières, potence"
            >A déjà un lit médicalisé à domicile équipé de barrières,
            potence</option
          >
          <option value="Etait autonome aux transferts avant l'hospitalisation"
            >Etait autonome aux transferts avant l'hospitalisation</option
          >
          <option value="Autonome">Autonome</option>
          <option
            value="Aide d'une infirmière le matin déjà en place à domicile"
            >Aide d'une infirmière le matin déjà en place à domicile</option
          >

          <option
            value="Actuellement aide de l'équipe soignante pour le transfert"
            >Actuellement aide de l'équipe soignante pour le transfert</option
          >
        </select>
      </fieldset>
      <br /><br />

      <fieldset>
        <label class="titi">
          Habillage
        </label>
        <textarea id="habillage" rows="4" cols="80"></textarea>
        <select
          id="phrhabillage"
          onchange="replaceSelection('habillage',this.id)"
        >
          <option value="">phrases</option>
          <option value="Etait autonome avant l'accident"
            >Etait autonome avant l'accident</option
          >
          <option value="Autonome">Autonome</option>
          <option
            value="Aide d'une infirmière le matin déjà en place à domicile"
            >Aide d'une infirmière le matin déjà en place à domicile</option
          >
          <option
            value="Actuellement aide de l'équipe soignante pour l'habillage du bas"
            >Actuellement aide de l'équipe soignante pour l'habillage du
            bas</option
          >
          <option
            value="Actuellement aide de l'équipe soignante pour l'habillage complet"
            >Actuellement aide de l'équipe soignante pour l'habillage
            complet</option
          >
        </select>
        <br /><br /><br />
        <label class="titi">
          Salle de bains
        </label>
        <textarea id="salleDeBain" rows="4" cols="120"></textarea>
        <select
          id="phrsalleDeBain"
          onchange="replaceSelection('salleDeBain',this.id)"
        >
          <option value="">phrases</option>
          <option value="Baignoire">Baignoire</option>
          <option value="Douche">Douche</option>
          <option value="Douche de plain pied">Douche de plain pied</option>
          <option
            value="Aide techniques en place: planche de bain, siège de douche, barres d'appui"
            >Aide techniques en place: planche de bain, siège de douche, barres
            d'appui</option
          >
        </select>
      </fieldset>
      <br /><br />
      <hr />
      <br /><br />

      <fieldset>
        <label class="titi">
          <strong>TOILETTE</strong>
        </label>
        <textarea name="toilette" id="toilette" rows="3" cols="80"></textarea>
        <select
          id="phrtoilette"
          onchange="replaceSelection('toilette',this.id)"
        >
          <option value="">phrases</option>
          <option value="Etait autonome à la toilette avant l'hospitalisation"
            >Etait autonome à la toilette avant l'hospitalisation</option
          >
          <option value="Autonome">Autonome</option>
          <option
            value="Aide d'une infirmière le matin déjà en place à domicile"
            >Aide d'une infirmière le matin déjà en place à domicile</option
          >
          <option
            value="Actuellement aide de l'équipe soignante pour l'habillage du bas"
            >Actuellement aide de l'équipe soignante pour l'habillage du
            bas</option
          >
          <option
            value="Actuellement aide de l'équipe soignante pour l'habillage complet"
            >Actuellement aide de l'équipe soignante pour l'habillage
            complet</option
          >
        </select>
      </fieldset>

      <fieldset>
        <label class="titi">
          <strong>WC</strong>
        </label>
        <textarea name="wc" id="wc" rows="3" cols="80"></textarea>
        <select id="phrwc" onchange="replaceSelection('wc',this.id)">
          <option value="">phrases</option>
          <option value="WC séparé de la salle de bain"
            >WC séparé de la salle de bain</option
          >
          <option value="WC Standard">WC Standard</option>
          <option value="WC réhaussé">WC réhaussé</option>
          <option value="WC équipé d'un réhausseur"
            >WC équipé d'un réhausseur</option
          >
          <option value="WC équipé de barres d'appui"
            >WC équipé de barres d'appui</option
          >
          <option value="Autonome">Autonome</option>
          <option value="Etait autonome avant l'hospitalisation"
            >Etait autonome avant l'hospitalisation</option
          >
          <option value="Chaise percée dans la chambre à domicile"
            >Chaise percée dans la chambre à domicile</option
          >
          <option value="Incontinence: patient langé par infirmière à domicile"
            >Incontinence: patient langé par infirmière à domicile</option
          >
          <option value="Actuellement aide de l'équipe soignante"
            >Actuellement aide de l'équipe soignante</option
          >
        </select>
      </fieldset>

      <fieldset>
        <label class="titi">
          <strong>REPAS</strong>
        </label>
        <textarea name="repas" id="repas" rows="3" cols="80"></textarea>
        <select id="phrrepas" onchange="replaceSelection('repas',this.id)">
          <option value="">phrases</option>
          <option value="Se charge des repas à domicile"
            >Se charge des repas à domicile</option
          >
          <option value="Repas réalisés par conjoint à domicile"
            >Repas réalisés par conjoint à domicile</option
          >
          <option value="Les repas sont livrés">Les repas sont livrés</option>
          <option value="Mange seul">Mange seul</option>
          <option
            value="N'est plus en mesure d'assurer la préparation des repas à domicile"
            >N'est plus en mesure d'assurer la préparation des repas à
            domicile</option
          >
        </select>
      </fieldset>
      <fieldset>
        <label class="titi">
          <strong>MENAGE</strong>
        </label>
        <textarea name="menage" id="menage" rows="3" cols="80"></textarea>
        <select id="phrmenage" onchange="replaceSelection('menage',this.id)">
          <option value="">phrases</option>
          <option value="Autonome">Autonome</option>
          <option value="réalisé par l'entourage"
            >réalisé par l'entourage</option
          >
          <option value="Intervention d'une aide ménagère à domicile"
            >Intervention d'une aide ménagère à domicile</option
          >
          <option value="N'est plus en mesure d'assurer le ménage à domicile"
            >N'est plus en mesure d'assurer le ménage à domicile</option
          >
        </select>
      </fieldset>
      <fieldset>
        <label class="titi">
          <strong>ENTRETIEN DU LINGE</strong>
        </label>
        <textarea
          name="entretienDuLinge"
          id="entretienDuLinge"
          rows="3"
          cols="80"
        ></textarea>
        <select
          id="phrentretienDuLinge"
          onchange="replaceSelection('entretienDuLinge',this.id)"
        >
          <option value="">phrases</option>
          <option value="Autonome">Autonome</option>
          <option value="Réalisé par l'entourage"
            >Réalisé par l'entourage</option
          >
          <option value="Intervention d'une aide ménagère à domicile"
            >Intervention d'une aide ménagère à domicile</option
          >
          <option
            value="N'est plus en mesure d'assurer l'entretien du linge à domicile"
            >N'est plus en mesure d'assurer l'entretien du linge à
            domicile</option
          >
        </select>
      </fieldset>
      <fieldset>
        <label class="titi">
          <strong>COURSES</strong>
        </label>
        <textarea name="courses" id="courses" rows="3" cols="80"></textarea>
        <select id="phrcourses" onchange="replaceSelection('courses',this.id)">
          <option value="">phrases</option>
          <option value="Autonome">Autonome</option>
          <option value="Réalisé par l'entourage"
            >Réalisé par l'entourage</option
          >
          <option value="Intervention d'une aide ménagère à domicile"
            >Intervention d'une aide ménagère à domicile</option
          >
          >
          <option
            value="N'est plus en mesure d'assurer la gestion des courses à domicile"
            >N'est plus en mesure d'assurer la gestion des courses à
            domicile</option
          >
        </select>
      </fieldset>
      <fieldset>
        <label class="titi">
          <strong>CONDUITE AUTOMOBILE</strong>
        </label>
        <textarea
          name="conduiteAuto"
          id="conduiteAuto"
          rows="3"
          cols="80"
        ></textarea>
        <select
          id="phrconduiteAuto"
          onchange="replaceSelection('conduiteAuto',this.id)"
        >
          <option value="">phrases</option>
        </select>
      </fieldset>
      <fieldset>
        <label class="titi">
          <strong>ACTIVITES SIGNIFIANTES</strong>
        </label>
        <textarea name="activites" id="activites" rows="3" cols="80"></textarea>
        <select id="phractivites" onchange="replaceSelection('wc',this.id)">
          <option value="">phrases</option>
        </select>
      </fieldset>
      <!--     pour copier du text dans le clipboqrd-->
      <textarea
        class="element-a-cacher"
        id="to-copy"
        rows="80"
        cols="80"
      ></textarea>
    </div>

    <!-- DEBUT DU JAVASCRIPT -->

    <script>
      function getSelectionsListe(id) {
        var liste = document.getElementById(id);
        options = liste.getElementsByTagName("option");
        var lsSelections = "";
        for (var i = 0; i < liste.options.length; i++) {
          if (liste.options[i].selected) {
            lsSelections += liste.options[i].value + ", ";
          }
        }
        return lsSelections;
      }
    </script>
    <script>
      window.onload = function() {
        $(".element-a-cacher").each(function() {
          $(this).hide();
        });
      };

      function affichage() {
        var bil = "";
        var esp = " ";
        var rtl = "\n";
        var fois = "*";
        var moins = "-";
        var plus = "+";
        var egal = "=";
        var mobilisation = "A la mobilisation: ";
        var repos = "Au repos:";
        var lpldoul = mobilisation.length;

        //bil += spacer.box("Bilan Kinésithérapique",fois);

        bil += rtl + spacer.box(" Cotation de la Douleur EVS", egal);
        bil += rtl + "Échelle de 0 à 4.";
        bil +=
          rtl +
          " 0 = pas de douleur, 1 = faible, 2 = moyenne, 3 = forte, 4 = très forte." +
          rtl;
        bil +=
          rtl +
          repos +
          spacer.line(lpldoul - repos.length + 3, ".") +
          " " +
          document.getElementById("douleurRepos").value +
          "/4";
        bil +=
          rtl +
          mobilisation +
          " " +
          document.getElementById("douleurMob").value +
          "/4";
        bil +=
          rtl +
          "Type: " +
          getSelectionsListe("typeDouleur") +
          document.getElementById("typeRepos").value;
        bil +=
          rtl +
          "Localisation: " +
          document.getElementById("localisation").value;
        bil += rtl + spacer.box("SITUATION", egal);
        bil += rtl + document.getElementById("situation").value;
        bil += rtl + spacer.box("Aides à domicile", egal);
        bil += rtl + document.getElementById("aidesAdom").value;
        bil += rtl + spacer.box("Accès extérieur logement", egal);
        bil += rtl + document.getElementById("accesExtLogement").value;
        bil += rtl + spacer.box("Accès intérieur logement", egal);
        bil += rtl + document.getElementById("accesIntlogement").value;
        bil += rtl + spacer.box("Déambulation intérieur", egal);
        bil += rtl + document.getElementById("deambulationInt").value;
        bil +=
          rtl +
          spacer.box("Déambulation extérieur avant l'hospitalisation", egal);
        bil += rtl + document.getElementById("deambulationExt").value;
        bil += rtl + spacer.box("CHAMBRE", egal);
        bil += rtl + document.getElementById("chambre").value;
        bil += rtl + spacer.box("HABILLAGE", egal);
        bil += rtl + document.getElementById("habillage").value;
        bil += rtl + spacer.box("SALLE DE BAINS", egal);
        bil += rtl + document.getElementById("salleDeBain").value;
        bil += rtl + spacer.box("TOILETTE", egal);
        bil += rtl + document.getElementById("toilette").value;
        bil += rtl + spacer.box("WC", egal);
        bil += rtl + document.getElementById("wc").value;
        bil += rtl + spacer.box("REPAS", egal);
        bil += rtl + document.getElementById("repas").value;
        bil += rtl + spacer.box("MENAGE", egal);
        bil += rtl + document.getElementById("menage").value;
        bil += rtl + spacer.box("ENTRETIEN DU LINGE", egal);
        bil += rtl + document.getElementById("entretienDuLinge").value;
        bil += rtl + spacer.box("COURSES", egal);
        bil += rtl + document.getElementById("courses").value;
        bil += rtl + spacer.box("CONDUITE AUTOMOBILE", egal);
        bil += rtl + document.getElementById("conduiteAuto").value;
        bil += rtl + spacer.box("ACTIVITES SIGNIFIANTES", egal);
        bil += rtl + document.getElementById("activites").value;

        $(".element-a-cacher").each(function() {
          $(this).show();
        });
        var toCopy = document.getElementById("to-copy");
        toCopy.value = "";
        toCopy.value += "" + bil;
        toCopy.select();
        document.execCommand("copy");
        return false;
      }
    </script>
    <script>
      var spacer = {
        blank: function() {
          return "";
        },

        newline: function() {
          return "\n";
        },

        line: function(length, character) {
          s = "";
          for (var i = 0; i < length; i++) {
            s += character;
          }
          return s;
        },

        wrap: function(text, length, character) {
          var padLength = (length - text.length) / 2 - 1;
          var wrapText = character + spacer.line(padLength, " ") + text;
          wrapText += spacer.line(padLength, " ");
          return wrapText;
        },

        box: function(text, character) {
          var boxText = spacer.newline();
          length = text.length + 38;
          if (character === "=") length = 25;
          if (character === "*") length = 40;

          boxText += spacer.line(length, character) + spacer.newline();
          //boxText += character + spacer.newline();
          boxText += spacer.wrap(text, length, character) + spacer.newline();
          //boxText += character + spacer.newline();
          boxText += spacer.line(length, character) + spacer.newline();
          return boxText;
        }
      };

      function replaceSelection(idfield, idoption) {
        let d = document.getElementById(idoption);
        var elem = document.getElementById(idfield);
        d.addEventListener("keyup", e => {
          e.preventDefault;
          // e.stopPropagation

          if (e.code === "Space" || e.code === "Enter") {
            var word = d.options[d.selectedIndex].value;
            document.getElementById(idoption).size = 1;
            word = word.replace(/\s\s+/g, " ");
            let from = elem.selectionStart,
              to = elem.selectionEnd;
            elem.value =
              elem.value.slice(0, from) + word + elem.value.slice(to);
            elem.selectionStart = from + word.length;
            elem.selectionEnd = from + word.length;
            document.getElementById(idoption).selectedIndex = 0;
            elem.focus();
          }
        });

        d.addEventListener("click", e => {
          e.preventDefault;
          var word = d.options[d.selectedIndex].value;
          document.getElementById(idoption).size = 1;
          word = word.replace(/\s\s+/g, " ");
          let from = elem.selectionStart,
            to = elem.selectionEnd;
          elem.value = elem.value.slice(0, from) + word + elem.value.slice(to);
          elem.selectionStart = from + word.length;
          elem.selectionEnd = from + word.length;
          document.getElementById(idoption).selectedIndex = 0;
          elem.focus();
        });
      }

      function frenchdate(strDate) {
        var ch = strDate
          .split("-")
          .reverse()
          .join("/");
        return ch;
      }

      const efface = document.getElementById("reinitialise");
      efface.addEventListener("click", e => location.reload(true));

      function ouvreListe(obj) {
        obj.size = 5;
      }

      function fermeListe(obj) {
        obj.size = 1;
      }

      var chtext = document.querySelectorAll("textarea");
      var tab = Array.from(chtext);
      tab.forEach(elem =>
        elem.addEventListener(
          "focus",
          event => {
            event.target.style.backgroundColor = "#EEEEEE";
            event.target.style.borderColor = "green";
          },
          true
        )
      );

      tab.forEach(elem =>
        elem.addEventListener(
          "blur",
          event => {
            event.target.style.backgroundColor = "";
            event.target.style.borderColor = "#dbe4bc";
          },
          true
        )
      );

      // select on focus on deroule
      var chselect = document.querySelectorAll("select");
      var seltab = Array.from(chselect);
      seltab.forEach(elem =>
        elem.addEventListener("focus", function(event) {
          event.target.size = 10;
        })
      );

      seltab.forEach(elem =>
        elem.addEventListener("blur", function(event) {
          event.target.size = 1;
        })
      );
      function refreshTime() {
        var temps = document.getElementById("temps");
        var h = new Date();

        temps.innerHTML =
          (h.getHours() < 10 ? "0" + h.getHours() : h.getHours()) +
          ":" +
          (h.getMinutes() < 10 ? "0" + h.getMinutes() : h.getMinutes()) +
          ":" +
          (h.getSeconds() < 10 ? "0" + h.getSeconds() : h.getSeconds());
      }

      setInterval(refreshTime, 1000);
    </script>
  </body>
</html>
